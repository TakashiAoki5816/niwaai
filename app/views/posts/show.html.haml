.main
  .Postsbox
    .Postsbox__header
      .left-header
        .userimage
          = image_tag "pict/IMG_4608.jpeg", size: "50x50"
        .username
          = @post.user.name
      .right-header
        .create-title
          投稿日：
        .create-date
          = @post.created_at.strftime("%Y年%m月%d日")
    .Postsbox__Imagebox
      = image_tag @post.image.url, class: "image", size: "650x650"
      .garden_namebox
        .garden_namebox__garden_name
          = @post.garden_name
    .Postsbox__mainContent
      .titlebox
        .title
          = @post.title
      .contentbox
        .content
          = @post.content
      .footer
        .footer__box
          .likebtn
            = "いいね#{@post.likes.count}件"
          -if current_user.already_liked?(@post)
            = button_to 'いいねを取り消す', post_like_path(@post), method: :delete
          -else
            = button_to 'いいね', post_likes_path(@post)
          .tagbtn
            清澄庭園
        .footer__edit
          .editbtn
            = link_to "編集", edit_post_path(@post.id)
          .deletebtn
            = link_to "削除", post_path(@post.id), method: :delete
    .Comments コメント一覧
    - @comments.each do |comment|
      .Postsbox__Commentbox
        .header
          .header__left
            .userimage
              = image_tag current_user.image.url, size: "50x50"
            .right
              .username
                = @post.user.name
              .created-at
                = @post.created_at.strftime("%Y年%m月%d日%R")
        .Contents
          .Contents__Comment
            = comment.content
    .Comments-form
      = form_with(model: [@post, @comment], local: true) do |f|
        = f.text_area :content, class: 'input-text'
        %br
        = f.submit 'コメントする', class: 'submit-btn'
    %h2.gmap Google Map
    #map
    :css
      #map {
        height: 500px;
        width: 800px;
      }
    :javascript
      let map

      function initMap(){
        geocoder = new google.maps.Geocoder()

        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 40.7828, lng:-73.9653},
          zoom: 12,
        });

        marker = new google.maps.Marker({
          position:  {lat: 40.7828, lng:-73.9653},
          map: map
        });
      }
    %script{:async => "", :defer => "defer", :src => "https://maps.googleapis.com/maps/api/js?key=AIzaSyBOgM_ZNyhuscOClFa7OHNg1GxuPTO-nbk&callback=initMap"}


